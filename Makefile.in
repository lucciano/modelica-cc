CXXFLAGS = -DYY_MCC_Parser_DEBUG -I. -g
OBJS := parser/mcc_parser.o main.o parser/mcc_scanner.o ast/ast_builder.o  ast/class.o  ast/composition.o  ast/element.o  ast/equation.o  ast/expression.o \
        ast/modification.o ast/statement.o ast/stored_definition.o  parser/parse.o # flatten/flatten.o flatten/symbol_table.o

%.o: %.cpp %.h
	$(CXX) -c $(CXXFLAGS) $*.cpp -o $*.o

all:mocc 
	./mocc examples/mcc.mo

doc:
	doxygen 
test: mocc
	./mocc examples/mcc.mo

parser/mcc_parser.cpp: parser/mcc.y
	@BISONXX@ -t -d -v -hparser/mcc_parser.h -o parser/mcc_parser.cpp parser/mcc.y

parser/mcc_scanner.cpp: parser/mcc.lex parser/mcc_parser.h
	@FLEXXX@ -d -oparser/mcc_scanner.cpp parser/mcc.lex

mocc: $(OBJS)
	@CXX@ $(CXXFLAGS) -o mocc $(OBJS)

clean:
	rm -rf $(OBJS) mocc parser/mcc_parser.cpp parser/mcc_scanner.cpp parser/mcc_parser.h



	
